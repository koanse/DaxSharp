{
  "DaxSharp": {
    "PowerBi": {
      "SystemObjectPrefix": "$",
      "ModelTableName": "Model",
      "MeasuresTableName": "Measures",
      "CommandTimeout": 0,
      "DaxQueryTemplates": {
        "GetTableStructure": "EVALUATE TOPN(1, {0})",
        "GetAllData": "EVALUATE {0}"
      },
      "RelationshipsQueries": {
        "Primary": "SELECT FromTable, FromColumn, ToTable, ToColumn, FromCardinality, ToCardinality FROM $SYSTEM.TMSCHEMA_RELATIONSHIPS",
        "Alternative": "SELECT TABLE_NAME, RELATED_TABLE_NAME, FROM_COLUMN, TO_COLUMN FROM $SYSTEM.MDSCHEMA_RELATIONSHIPS"
      }
    },
    "PostgreSQL": {
      "DefaultSchema": "public",
      "BatchSize": 1000,
      "SqlTemplates": {
        "DropTable": "DROP TABLE IF EXISTS {0} CASCADE;",
        "CreateTable": "CREATE TABLE {0} ({1});",
        "CreateSchema": "CREATE SCHEMA IF NOT EXISTS {0};",
        "InsertInto": "INSERT INTO {0} ({1}) VALUES ({2})"
      },
      "TypeMappings": {
        "Boolean": "BOOLEAN",
        "Byte": "SMALLINT",
        "Short": "SMALLINT",
        "Int": "INTEGER",
        "Int32": "INTEGER",
        "Long": "BIGINT",
        "Int64": "BIGINT",
        "Float": "REAL",
        "Double": "DOUBLE PRECISION",
        "Decimal": "NUMERIC",
        "DateTime": "TIMESTAMP",
        "DateTimeOffset": "TIMESTAMPTZ",
        "TimeSpan": "INTERVAL",
        "Guid": "UUID",
        "ByteArray": "BYTEA",
        "String": "TEXT",
        "Default": "TEXT"
      }
    },
    "OpenAI": {
      "ApiUrl": "https://api.openai.com/v1/chat/completions",
      "DefaultModel": "gpt-4o",
      "DefaultModelCache": "gpt-4o",
      "DefaultApiKey": "",
      "DefaultMaxIterations": 6,
      "Temperature": 0.3,
      "MaxTokens": 2000,
      "Prompts": {
        "InitialConversion": "Convert the following DAX query to a PostgreSQL SQL query.\n\nDatabase Schema:\n{0}\n\nDAX Query:\n{1}\n\nPostgreSQL Schema Name: {2}\n\nGenerate a valid PostgreSQL SQL query that produces the same results as the DAX query.\nUse the provided database schema information to correctly join tables and reference columns.\nReturn only the SQL query without any explanations or markdown formatting.",
        "FixQuery": "The previous SQL query had issues. Please fix it.\n\nDatabase Schema:\n{0}\n\nOriginal DAX Query:\n{1}\n\nPrevious SQL Query:\n{2}\n\nError or Issue:\n{3}\n\nPostgreSQL Schema Name: {4}\n\n{5}Generate a corrected PostgreSQL SQL query. Use the provided database schema information to correctly join tables and reference columns.\nEnsure proper GROUP BY and aggregate functions are used.\nReturn only the SQL query without any explanations or markdown formatting.",
        "GroupByGuidance": "IMPORTANT: The SQL query has GROUP BY issues. Follow these rules:\n1. All columns in SELECT that are not aggregate functions MUST be in GROUP BY\n2. All measure columns (like measure1, measure2, measure3) MUST use aggregate functions (SUM, COUNT, AVG, etc.)\n3. Example: SELECT colorname, SUM(measure2) AS measure2, SUM(measure3) AS measure3 FROM ... GROUP BY colorname\n4. Make sure to group by all non-aggregated columns from the SELECT clause\n\n",
        "TooManyRowsGuidance": "IMPORTANT: The SQL query returns too many rows. This usually means:\n1. Missing GROUP BY clause - add GROUP BY for all non-aggregated columns\n2. Missing aggregate functions - use SUM(), COUNT(), etc. for measure columns\n3. Incorrect JOINs causing row multiplication - check JOIN conditions\n\n"
      }
    },
    "Cache": {
      "FileName": "dax_to_sql_cache.json"
    },
    "ErrorMessages": {
      "DaxQueryNoResults": "DAX query returned no results",
      "FailedToGenerateSql": "Failed to generate SQL from OpenAI"
    },
    "ConnectionStrings": {
      "PowerBi": "Data Source=localhost:50181;",
      "PostgreSQL": "Host=localhost:5432;Database=mydb;Username=postgres;Password="
    }
  }
}
